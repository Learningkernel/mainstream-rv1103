## u-boot
> url https://github.com/LuckfoxTECH/luckfox-pico.git  
> dir sysdrv/source/uboot/u-boot
> commitid 994243753789e1b40ef91122e8b3688aae8f01b8

## kernel
> main stream  + rv1103 和 相关代码

## 现状
> 能正常启动内核，在挂载根文件系统阶段报错
> 我只是想在主线内核中是rv1103, 实践一下arm linux的内核理论，所以到此为止

## 注意事项
### build
* make ARCH=arm CROSS_COMPILE=arm-rockchip830-linux-uclibcgnueabihf- luckfox_rv1106_linux_defconfig
* make ARCH=arm CROSS_COMPILE=arm-rockchip830-linux-uclibcgnueabihf- menuconfig
* make ARCH=arm CROSS_COMPILE=arm-rockchip830-linux-uclibcgnueabihf- -j14
### 内核选项check
``` bash
CONFIG_EARLY_PRINTK=y
CONFIG_SERIAL_EARLYCON=y
CONFIG_SERIAL_8250=y  # 或对应硬件串口驱动
CONFIG_PRINTK=y
CONFIG_CONSOLE_LOGLEVEL_DEFAULT=7
```

### early printk uart 配置
* 物理地址 0xff4c0000  
* 虚拟地址 0xFEDC0000

## 制作img过程
* mkimage -E -p 0x800 -f boot.its boot.img
* boot.its
``` bash
/*
 * Copyright (C) 2021 Rockchip Electronics Co., Ltd
 *
 * SPDX-License-Identifier: GPL-2.0
 */

/dts-v1/;
/ {
    description = "FIT image with Linux kernel, FDT blob and resource";

    images {
        fdt {
            data = /incbin/("fdt");
            type = "flat_dt";
            arch = "arm";
            compression = "none";
            load = <0xffffff00>;

            hash {
                algo = "sha256";
            };
        };

        kernel {
            data = /incbin/("kernel");
            type = "kernel";
            arch = "arm";
            os = "linux";
            compression = "none";
            entry = <0xffffff01>;
            load = <0xffffff01>;

            hash {
                algo = "sha256";
            };
        };

    };

    configurations {
        default = "conf";

        conf {
            rollback-index = <0x00>;
            fdt = "fdt";
            kernel = "kernel";

            signature {
                algo = "sha256,rsa2048";
                padding = "pss";
                key-name-hint = "dev";
                sign-images = "fdt", "kernel";
            };
        };
    };
};
```
* fdt : \*rv1103g\*.dtb
* kernel: zImage

